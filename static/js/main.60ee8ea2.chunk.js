(this.webpackJsonpauctioneer=this.webpackJsonpauctioneer||[]).push([[0],{59:function(e,t,r){"use strict";r.r(t);var c=r(0),a=r(24),n=r(10),s=r(70),i=r(42),j=(r(50),r(60),r(61),i.a.initializeApp({apiKey:"AIzaSyBHgG4mwWSEUBLPS1p2XFtaC8GwPIv2xN8",authDomain:"arquidiocesishermosillo-776dd.firebaseapp.com",projectId:"arquidiocesishermosillo-776dd",storageBucket:"arquidiocesishermosillo-776dd.appspot.com",messagingSenderId:"767127814821",appId:"1:767127814821:web:6c159d62075bcd1271c34c"})),o=i.a.firestore.FieldValue.serverTimestamp,l=j.firestore(),b=j.storage(),d=j.auth(),u=r(2),O=Object(c.createContext)(),x=function(e){var t=e.children,r=Object(c.useState)(null),a=Object(n.a)(r,2),s=a[0],i=a[1],j=Object(c.useState)(!0),o=Object(n.a)(j,2),b=o[0],x=o[1],h=Object(c.useState)(""),f=Object(n.a)(h,2),p=f[0],m=f[1];return Object(c.useEffect)((function(){return d.onAuthStateChanged((function(e){i(e),x(!1)}))}),[]),Object(c.useEffect)((function(){var e=setTimeout((function(){return m("")}),5e3);return function(){return clearTimeout(e)}}),[p]),Object(u.jsx)(O.Provider,{value:{currentUser:s,register:function(e,t){return d.createUserWithEmailAndPassword(e,t)},login:function(e,t){return d.signInWithEmailAndPassword(e,t)},logout:function(){return d.signOut()},bidAuction:function(e){return l.collection("auctions").doc(e).update({completed:!0})},endAuction:function(e){return l.collection("auctions").doc(e).delete()},globalMsg:p},children:!b&&t})},h=r(16),f=r.n(h),p=r(22),m=r(68),v=r(65),g=r(45),C=r(69),y=r(66),w=function(e){var t=e.setAuction,r=Object(c.useState)(!1),a=Object(n.a)(r,2),i=a[0],j=a[1],o=Object(c.useState)(""),l=Object(n.a)(o,2),b=l[0],d=l[1],x=Object(c.useRef)(),h=Object(c.useRef)(),w=Object(c.useRef)(),S=Object(c.useRef)(),L=Object(c.useRef)(),R=Object(c.useRef)(),q=Object(c.useRef)(),G=Object(c.useRef)(),D=Object(c.useRef)(),k=Object(c.useRef)(),N=Object(c.useRef)(),E=Object(c.useRef)(),I=Object(c.useRef)(),M=Object(c.useRef)(),A=Object(c.useRef)(),H=Object(c.useRef)(),F=Object(c.useRef)(),P=Object(c.useRef)(),T=Object(c.useRef)(),U=Object(c.useRef)(),V=Object(c.useRef)(),B=Object(c.useRef)(),W=Object(c.useContext)(O).currentUser,z=function(){return j(!1)},J=["image/png","image/jpeg","image/jpg"],X=function(){var e=Object(p.a)(f.a.mark((function e(r){var c,a,n;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),d(""),J.includes(L.current.files[0].type)){e.next=4;break}return e.abrupt("return",d("por favor use una imagen valida (png, jpeg, jpg)"));case 4:c=new Date,a=c.setHours(c.getHours()),n={email:W.email,nombre:x.current.value,clasificacion:h.current.value,vicario:w.current.value,parroco:S.current.value,duration:a,direccion:q.current.value,telefono:G.current.value,sitioWeb:D.current.value,itemImage:L.current.files[0],decanato:R.current.value,horarioDeMisasLV:k.current.value,horarioDeMisasSabado:N.current.value,horarioDeMisasDomingo:E.current.value,servicios:I.current.value,confesiones:M.current.value,sacramentos:A.current.value,eventos:H.current.value,actividades:F.current.value,centros:P.current.value,horarioDeCentros:T.current.value,grupos:U.current.value,devociones:V.current.value,comentarios:B.current.value},t(n),z();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"col d-flex justify-content-center my-3 ",children:Object(u.jsx)("div",{onClick:function(){return j(!0)},className:"btn btn-primary mx-5                 ",children:"CREAR INFORME"})}),Object(u.jsx)(m.a,{centered:!0,show:i,onHide:z,style:{width:"96%",marginLeft:"1%"},children:Object(u.jsxs)("form",{onSubmit:X,style:{backgroundColor:"rgb(222,222,222)"},children:[Object(u.jsxs)(m.a.Body,{children:[b&&Object(u.jsx)(s.a,{variant:"danger",children:b}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{className:"border mb-5 btn bg-primary mx-2 p-2 text-center text-white",children:W.email})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Nombre"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:x})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsxs)(g.a,{className:"mb-2",children:[Object(u.jsx)(C.a.Label,{children:"Clasificacion"}),Object(u.jsxs)(C.a.Control,{as:"select",multiple:!1,ref:h,children:[Object(u.jsx)("option",{value:"parroquia",children:"Parroquia"}),Object(u.jsx)("option",{value:"cuasiparroquia",children:"Cuasiparroquia"}),Object(u.jsx)("option",{value:"catedral",children:"Catedral"}),Object(u.jsx)("option",{value:"centro",children:"Centro"}),Object(u.jsx)("option",{value:"institucion educativa",children:"Institucion Educativa"}),Object(u.jsx)("option",{value:"obra social",children:"Obra Social"}),Object(u.jsx)("option",{value:"vida consagrada femenina",children:"Vida Consagrada Femenina"}),Object(u.jsx)("option",{value:"vida consagrada masculina",children:"Vida Consagrada Masculina"}),Object(u.jsx)("option",{value:"organismo laical",children:"Organismo Laical"}),Object(u.jsx)("option",{value:"otro",children:"Otro"})]})]})}),Object(u.jsx)(v.a,{children:Object(u.jsxs)(g.a,{children:[Object(u.jsx)(C.a.Label,{children:"Decanato"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:R})]})}),Object(u.jsx)("hr",{}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Parroco"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:S})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Vicario"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:w})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Direcci\xf3n"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:q})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Telefono"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:G})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Sitio Web"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:D})]})})}),Object(u.jsx)("hr",{}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Horario de Misas Lunes a Viernes"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:k})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Horario de Misas Sabado"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:N})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Horario de Misas Domingo"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:E})]})})}),Object(u.jsx)("hr",{}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Servicios"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:I})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Confesiones"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:M})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Sacramentos"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:A})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Eventos"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:H})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Actividades"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:F})]})})}),Object(u.jsx)("hr",{}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Centros"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:P})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Horario de Centros"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:T})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Grupos"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:U})]})})}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Devociones"}),Object(u.jsx)(C.a.Control,{type:"text",required:!0,ref:V})]})})}),Object(u.jsx)("hr",{}),Object(u.jsx)(v.a,{children:Object(u.jsx)(g.a,{children:Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Comentarios"}),Object(u.jsx)(C.a.Control,{as:"textarea",placeholder:"comentar...",style:{height:"100px"},required:!0,ref:B})]})})}),Object(u.jsx)("hr",{}),Object(u.jsx)(v.a,{children:Object(u.jsxs)(g.a,{children:[Object(u.jsx)(C.a.Label,{children:"Imagen"}),Object(u.jsx)(C.a.Group,{children:Object(u.jsx)(C.a.File,{label:"Cargar Foto",custom:!0,required:!0,ref:L})})]})})]}),Object(u.jsxs)(m.a.Footer,{children:[Object(u.jsx)(y.a,{variant:"secondary",onClick:z,children:"Cancelar"}),Object(u.jsx)(y.a,{variant:"primary",type:"submit",children:"Guardar"})]})]})})]})},S=function(e){var t,r=e.item,c=new Intl.DateTimeFormat("es-MX",{dateStyle:"long",timeStyle:"short"});return Object(u.jsxs)("div",{className:"card shadow-sm ",children:[Object(u.jsx)("div",{style:{height:"180px",backgroundImage:"url(".concat(r.imgUrl,")"),backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center"},className:"w-100 mt-4"}),Object(u.jsxs)("div",{className:"card-body p-4 ",children:[Object(u.jsxs)("h5",{children:[(t=r.duration,c.format(new Date(t)))," "]}),Object(u.jsx)("h5",{children:r.email}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h5",{children:["Nombre: ",r.nombre]}),Object(u.jsxs)("h5",{children:["Clasificacion: ",r.clasificacion]}),Object(u.jsxs)("h5",{children:[" Decanato: ",r.decanato]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h5",{children:[" Parroco: ",r.parroco]}),Object(u.jsxs)("h5",{children:[" Vicario: ",r.vicario]}),Object(u.jsxs)("h5",{children:[" Direccion: ",r.direccion]}),Object(u.jsxs)("h5",{children:[" Telefono: ",r.telefono]}),Object(u.jsxs)("h5",{children:[" Sitio Web: ",r.sitioWeb]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h5",{children:[" Horario de Misas L-V: ",r.horarioDeMisasLV]}),Object(u.jsxs)("h5",{children:[" Horario de Misas Sabado: ",r.horarioDeMisasSabado]}),Object(u.jsxs)("h5",{children:[" Horario de Misas Domingo: ",r.horarioDeMisasDomingo]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h5",{children:[" Servicios: ",r.servicios]}),Object(u.jsxs)("h5",{children:[" Confesiones: ",r.confesiones]}),Object(u.jsxs)("h5",{children:[" Sacramentos: ",r.sacramentos]}),Object(u.jsxs)("h5",{children:[" Eventos: ",r.eventos]}),Object(u.jsxs)("h5",{children:[" Actividades: ",r.actividades]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h5",{children:[" Centros: ",r.centros]}),Object(u.jsxs)("h5",{children:[" Horario de Centros: ",r.horarioDeCentros]}),Object(u.jsxs)("h5",{children:[" Grupos: ",r.grupos]}),Object(u.jsxs)("h5",{children:[" Devociones: ",r.devociones]}),Object(u.jsx)("hr",{}),Object(u.jsxs)("h5",{children:[" Comentarios: ",r.comentarios]})]})]})},L=r(67),R=r(28),q=function(e){var t=Object(c.useState)(0),r=Object(n.a)(t,2),a=r[0],s=r[1],i=Object(c.useState)(null),j=Object(n.a)(i,2),d=j[0],u=j[1];return Object(c.useState)((function(){var t=b.ref(e.itemImage.name),r=l.collection("auctions");t.put(e.itemImage).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;s(t)}),(function(e){console.log(e)}),Object(p.a)(f.a.mark((function c(){var a,n;return f.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,t.getDownloadURL();case 2:return a=c.sent,n=o(),delete e.itemImage,c.next=7,r.add(Object(R.a)(Object(R.a)({},e),{},{createdAt:n,imgUrl:a}));case 7:u(!0);case 8:case"end":return c.stop()}}),c)}))))}),[e]),{progress:a,isCompleted:d}},G=function(e){var t=e.auction,r=e.setAuction,a=q(t),n=a.progress,s=a.isCompleted;return Object(c.useEffect)((function(){s&&r(null)}),[s,r]),Object(u.jsx)(L.a.div,{style:{height:"5px",background:"black"},initial:{width:0},animate:{width:"".concat(n,"%")}})},D=function(){var e,t=Object(c.useState)(null),r=Object(n.a)(t,2),a=r[0],i=r[1],j=Object(c.useContext)(O),o=j.currentUser,b=j.globalMsg,d=function(e){var t=Object(c.useState)([]),r=Object(n.a)(t,2),a=r[0],s=r[1];return Object(c.useEffect)((function(){var t=l.collection(e).onSnapshot((function(e){var t=[];e.forEach((function(e){t.push(Object(R.a)(Object(R.a)({},e.data()),{},{id:e.id}))})),s(t)}));return function(){return t()}}),[e]),{docs:a}}("auctions").docs;return e=!!o&&o.email?d.filter((function(e){return e.email===o.email})):[],Object(u.jsxs)("div",{className:"",children:[a&&Object(u.jsx)(G,{auction:a,setAuction:i}),Object(u.jsx)("div",{style:{zIndex:"9999999"},className:"text-center w-50 position-fixed top-10 start-50 translate-middle",children:b&&Object(u.jsx)(s.a,{variant:"danger",children:b})}),o&&Object(u.jsx)(w,{setAuction:i}),e&&Object(u.jsx)("div",{className:"row row-cols-1 row-cols-md-3 row-cols-lg-4 p-5 g-3 border mt-1 ",children:e.map((function(e,t){return Object(u.jsx)(S,{item:e},t)}))})]})},k=r.p+"static/media/canal10.3786bdfc.png",N=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),r=t[0],a=t[1],i=Object(c.useState)(""),j=Object(n.a)(i,2),o=j[0],l=j[1],b=Object(c.useRef)(),d=Object(c.useRef)(),x=Object(c.useContext)(O).login,h=function(){return a(!1)},v=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),l(""),e.prev=2,e.next=5,x(b.current.value,d.current.value);case 5:h(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),l("Invalid login");case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return a(!0)},className:"btn btn-outline-secondary mx-2",children:"Entrar"}),Object(u.jsx)(m.a,{centered:!0,show:r,onHide:h,children:Object(u.jsxs)("form",{onSubmit:v,children:[Object(u.jsx)(m.a.Header,{children:Object(u.jsx)(m.a.Title,{children:"Entrar"})}),Object(u.jsxs)(m.a.Body,{children:[o&&Object(u.jsx)(s.a,{variant:"danger",children:o}),Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Email "}),Object(u.jsx)(C.a.Control,{type:"email",required:!0,ref:b})]}),Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Password"}),Object(u.jsx)(C.a.Control,{type:"password",required:!0,ref:d})]})]}),Object(u.jsxs)(m.a.Footer,{children:[Object(u.jsx)(y.a,{variant:"secondary",onClick:h,children:"Cancelar"}),Object(u.jsx)(y.a,{variant:"primary",type:"submit",children:"Entrar"})]})]})})]})},E=function(){var e=Object(c.useState)(!1),t=Object(n.a)(e,2),r=t[0],a=t[1],i=Object(c.useState)(""),j=Object(n.a)(i,2),o=j[0],l=j[1],b=Object(c.useRef)(),d=Object(c.useRef)(),x=Object(c.useRef)(),h=Object(c.useContext)(O).register,v=function(){return a(!1)},g=function(){var e=Object(p.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),l(""),d.current.value===x.current.value){e.next=4;break}return e.abrupt("return",l("Passwords does not match"));case 4:return e.prev=4,e.next=7,h(b.current.value,d.current.value);case 7:v(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),l(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{onClick:function(){return a(!0)},className:"btn btn-outline-secondary mx-2",children:"Registro"}),Object(u.jsx)(m.a,{centered:!0,show:r,onHide:v,children:Object(u.jsxs)("form",{onSubmit:g,children:[Object(u.jsx)(m.a.Header,{children:Object(u.jsx)(m.a.Title,{children:"Registro"})}),Object(u.jsxs)(m.a.Body,{children:[o&&Object(u.jsx)(s.a,{variant:"danger",children:o}),Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Email"}),Object(u.jsx)(C.a.Control,{type:"email",required:!0,ref:b})]}),Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Password"}),Object(u.jsx)(C.a.Control,{type:"password",required:!0,ref:d})]}),Object(u.jsxs)(C.a.Group,{children:[Object(u.jsx)(C.a.Label,{children:"Confirmar Password"}),Object(u.jsx)(C.a.Control,{type:"password",required:!0,ref:x})]})]}),Object(u.jsxs)(m.a.Footer,{children:[Object(u.jsx)(y.a,{variant:"secondary",onClick:v,children:"Cancelar"}),Object(u.jsx)(y.a,{variant:"primary",type:"submit",children:"Registro"})]})]})})]})},I=function(){var e=Object(c.useContext)(O),t=e.currentUser,r=e.logout;return Object(u.jsxs)("nav",{className:"container navbar navbar-light",children:[Object(u.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(u.jsx)("div",{className:"navbar-brand mb-4",children:Object(u.jsx)("img",{src:k,alt:"logo",height:"140"})})}),Object(u.jsx)("div",{className:"w-100 d-flex justify-content-center",children:Object(u.jsx)("div",{className:"mb-4",children:t?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"btn btn-secondary mx-2 disabled",children:t.email}),Object(u.jsx)("div",{onClick:function(){return r()},className:"btn btn-outline-secondary mx-2",children:"SALIR"})]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(N,{}),Object(u.jsx)(E,{})]})})})]})},M=function(){return Object(u.jsxs)(x,{children:[Object(u.jsx)(I,{}),Object(u.jsx)(D,{})]})};r(58);Object(a.render)(Object(u.jsx)(M,{}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.60ee8ea2.chunk.js.map